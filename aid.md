# **��������� Git**

## **������������ ������� Git**

����������� �� ������ 


``` cd / (������� � �������� ����������)

``` cd 

``` cd test (����� � ���������� test)

``` cd .. (������� � ���������� ����)

``` cd ~ (������� � �������� ����������)


������ ��������������� � ������ ������


``` pwd


������ ����� ����� ��������� � �����


```ls 

``` ls -la (��������� ��� ����� � ����� � ����������� ����������� )


��������


``` touch (�������� �����)

``` mkdir (�������� �����)


�������� 


``` rmtouch (�������� �����)

``` rmdir (�������� �����)


����������� � �����������


``` mvdir (����������� ����������)

``` cpdir (����������� ����������)


������ �����


``` cat


�������� �����������

������� ������������� �������� � ��������� �� �������. ����� ������� �� ������� � ��������� ����� ������������ (&&)



## ������ � ������������ � ������

����� Git ����� ����������� ��������� � �������, ����� � ������� ����� ������� ����� ������� Git ������������  ��� ����� �������

 
``` git init


��������� ����� 


``` rm -rf .git


��������� ��������� ����������� 


``` git status


������ ����� �������� ����� ��������� � ����������� ��������


 ``` Git add --all ��� ``` Git add .(������� ��� ������� ����� )


��������� ����� �������� 


``` Git commit -m (-m ��������� �������� � ������� ���������� )


``` Git push ��������� ����� �� �������� ����������� 


���������� � ����


```mermaid

Graph LR;

* Git ����������� ���������� � �������� � ������� ��������� SHA-1 � ��� ������� �� ��� ����������� ���������� �������������� - ���

* ��� - �������� ������������� ������� � ��������� ������ ��� ������, ���� � ���������� ������������� ������.

* ��� ����, � ����� ������� ������������ %% ��� ���������� � ������� Git ������ � ����� .git


���������� � ����� � ������� HEAD

* ����� ������� �� ������ ������ ���, �� � ����������� - ��� �������� �������� 

```git log --oneline

* � ����������� ���� ��������� ����������� ���� - �� ����� ������������ ����� ��� ��, ��� � ������.

-------------------------------------------------------------

* � ����� ������ ������ � ����� .git ���� ��������� ���� HEAD. �� ��������� �� ����� ������ ������.

* ������ ���� ���������� ������� ����� �������� ����� HEAD- Git ��� �����.

�������� ��� ������ ��������,������ �� ���������� ������

������� git restore --staged <file> �������� ���� �� staged 
������� � modified ��� untracked.

������� git reset --hard <commit hash> �������� ������� �� ������� � ����� <hash>. ����� ������� ������� ����������!


������� git restore <file> �������� ��������� � ����� �� ��������� ����������� (� ������� ��� � staging) ������.
������������� �����������
git init (�� ����. initialize, ������������������) � ������������� �����������.
������������� ���������� � ��������� ������������
git remote add origin https://github.com/YandexPracticum/first-project.git (�� ����. remote, ��������� + add, ����������) � ������� ��������� ����������� � ��������� � URL https://github.com/YandexPracticum/first-project.git;
git remote -v (�� ����. verbose, ����������) � �������, ��� ����������� ������������� ���������;
git push -u origin main (�� ����. push, ���������) � � ������ ��� ������� ��� ������� �� ���������� ����������� � �������� � ��������� origin.
?? ���� ����� ����� ���������� master, � �� main. ���������� �������, ���� ��� ����������.
git push (�� ����. push, ���������) � ������� ������� � �������� ����������� ����� ����, ��� �� ��� �������� � ������� ����� -u.
���������� ����� � �������
git add todo.txt (�� ����. add, ����������) � ��������� ���� todo.txt � �������;
git add --all (�� ����. add, ���������� + all, ���) � ��������� � ������� ����� ��� �����, � ������� ���� ���������, � ��� ����� �����;
git add . � ��������� � ������� ������� ����� � ��� ����� � ���.
�������� � ���������� �������
git commit -m "����������� � �������." (�� ����. commit, �����������, ������������ + message, ����������) � ������ ������ � ������ �����������, ����� ���� ����� ������, ����� ��������� �������;
git push (�� ����. push, ���������) � ������ ��������� � �������� �����������.
�������� ���������� � ��������
git log (�� ����. log, ������� [�������]�) � ������ ��������� ������� ��������;
git log --oneline (�� ����. log, ������� [�������]� + oneline, ������ �������) � ������ ������� ���������� � ��������: ����������� ��� � ���������.
�������� ��������� ������
git status (�� ����. status, �������, ����������) � ������ ������� ��������� �����������.
���������� ��������� � ��������� ������
git commit --amend --no-edit (�� ����. amend, �����������) � ������ ��������� � ���������� ������� � ������ ��������� �������;
git commit --amend -m "����� ���������" � ������ ��������� � ���������� ������� �� ����� ���������.
?? ����� �� ��������� Vim: ������ Esc, ������ :qa!, ������ Enter.
������ ������ � ��������
git restore --staged hello.txt (�� ����. restore, ��������������) � �������� ���� hello.txt �� ��������� staged ������� � untracked ��� modified;
git restore hello.txt � ����� ���� hello.txt � ��������� ������, ������� ���� ��������� ����� git commit ��� git add;
git reset --hard b576d89 (�� ����. reset, ������, ���������� + hard, ��������) � ����� ��� ��������������� ��������� �� staging � �������� ����� ������ �� ���������� �������.
�������� ���������
git diff (�� ����. difference, ��������, ��������) � ������ ��������� � �������� ����, �� ���� � modified-������;
git diff a9928ab 11bada1 � ������ ������� ����� ����� ���������;
git diff --staged � ������ ���������, ������� ��������� � staged-������.
���������. ������ � �������
� ���� ��������� �� ������� ��� �������� ������� ������ � ��� ��������� ���������� ��� � �������� ������ � �������!
������������ ������ �����������
git clone git@github.com:YandexPraktikum/first-project.git (�� ����. clone, ������, �������) � ��������� ����������� � URL first-project.git �� �������� YandexPraktikum �� ��� ��������� ���������.
�������� �����
git branch feature/the-finest-branch (�� ����. branch, ������) � ������ ����� �� ������� � ��������� feature/the-finest-branch;
git checkout -b feature/the-finest-branch � ������ ����� feature/the-finest-branch � ����� ����������� �� ��.
��������� �� ������
git branch (�� ����. branch, ������) � ������, ����� ���� ����� � ����������� � � ����� �� ��� � �������� (������� ����� ����� �������� �������� *);
git branch -a � ������ ��� ��������� �����, ��� ��������� (� ��������� �����������), ��� � �������� (� origin, ��� �� GitHub).
git checkout feature/br � ����������� �� ����� feature/br.
��������� �����
git diff main HEAD (�� ����. difference, ��������, ��������) � ������ ������� ����� ������ main � ���������� �� HEAD;
git diff HEAD~2 HEAD � ������ ������� ����� ��� ��������, ������� ��� ��� ������� �����, � �������.
�������� �����
git branch -d br-name � ����� ����� br-name, �� ������ ���� ��� �������� ������ main;
git branch -D br-name � ����� ����� br-name, ���� ���� ��� �� ���������� � main.
������� �����
git merge main (�� ����. merge, ���������, �����������) � �������� ����� main � ������� �������� ������. 
������ � �������� ������������
git push -u origin my-branch (�� ����. push, ����������, �������������) � ������� ����� ����� my-branch � �������� ����������� � ����� ��������� ����� � ��������, ����� ��� �������������� �������� ����� ���� ������ ������ git push ��� -u;
git push my-branch � ������� �������������� ��������� � ����� my-branch, ������� ��� ���������� � �������� �����������;
git pull (�� ����. pull, ����������) � ������� ��������� ������� ����� �� ��������� �����������.
Модуль подошёл к концу, а это значит, что пришло время подвести итоги и запастись шпаргалкой!
Feature branch workflow
Самый популярный подход к работе с Git в команде — это feature branch workflow. В нём создают ветку для каждой задачи (например, для новой функциональности или исправления бага), а когда всё готово, вливают новую ветку в main.
Важные этапы этого процесса — пул-реквест и ревью изменений. Пул-реквест — это интерфейс, в котором можно обсудить изменения. Ревью — просмотр изменений другими участниками и один из способов проверить качество таких изменений.
Если вы уже участник проекта (или collaborator в терминах GitHub), можно клонировать репозиторий напрямую. А если нет, нужно предварительно сделать «форк». Также для участников доступна кнопка Merge после ревью, а для неучастников — нет.
Конфликты слияния
Когда один и тот же файл меняется в нескольких ветках, при их слиянии может произойти конфликт. Пугаться конфликтов не нужно, это нормальная часть работы с системами контроля версий. IDE, вроде VSCode или Intellij IDEA, помогут «склеить» файл из двух конфликтующих версий.
Алгоритм-шпаргалка для создания PR
Склонировать репозиторий.
Если вы не участник проекта, предварительно сделать «форк» исходного репозитория.
На странице репозитория или «форка» нажать кнопки: Code → SSH → скопировать ссылку.
Выполнить команду git clone <ссылка на репозиторий>.
Создать ветку для вашей задачи: git checkout -b my-task-branch-name.
Добавить и «закоммитить» изменения, которые вы хотите внести в проект.
«Запушить» ветку: git push --set-upstream origin HEAD или git push -u origin my-task-branch-name.
GitHub (с помощью Git) выведет ссылку на создание PR. По ней нужно перейти.
PR можно также создать через интерфейс GitHub.
Сообщить о пул-реквесте ревьюеру.
Иногда ревьюеры назначаются автоматически, тогда сообщать не нужно.
Обсуждать с ревьюером предлагаемые изменения и вносить правки, пока эти изменения не будут одобрены (пока не будет получен «апрув»).  
6.1. Если кто-то добавил конфликтующие изменения в main, пока ваш PR был на ревью, нужно разрешить конфликт:  
Обновить main: git checkout main && git pull.
Влить main в свою ветку: git checkout my-task-branch-name && git merge main.
Разрешить конфликты слияния с помощью IDE или вручную.
Создать коммит слияния: git commit --no-edit или git commit -m 'merge main'.
Сделать git push своей ветки.
Нажать кнопку Merge или подождать, пока её нажмёт кто-то ещё.
Ещё раз обновить main, чтобы «подтянуть» ваши изменения в основную ветку локального репозитория: git checkout main && git pull.
Вы великолепны! Можете начинать снова со второго пункта.
Алгоритм-шпаргалка для разрешения конфликтов слияния
Открыть проект в IDE (VS Code, IDEA или другие).
Открыть файл, в котором есть конфликт.
Выбрать, какие части файла нужно взять из одной ветки, а какие — из другой.
Когда конфликты разрешены, сделать коммит: git commit --no-edit или git commit -m 'merge branch <название ветки>'.